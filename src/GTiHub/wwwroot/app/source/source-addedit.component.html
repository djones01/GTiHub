<div class="container">
    <div>
        <div class="col-lg-3">
            <h4>Add / Edit Sources</h4>
            <form *ngIf="active" (ngSubmit)="onSubmit()" #sourceform="ngForm">
                <div class="form-group">
                    <label for="name">Name</label>
                    <input type="text" class="form-control" id="name"
                           [(ngModel)]="addEditSource.name" name="name"
                           #name="ngModel"
                           required>
                    <div *ngIf="!name.valid && !name.pristine"
                         class="alert alert-danger">
                        Name is required
                    </div>
                </div>
                <div class="form-group">
                    <label for="description">Description</label>
                    <textarea class="form-control" id="description"
                           [(ngModel)]="addEditSource.description" name="description"
                           #description="ngModel"
                           required></textarea>
                    <div *ngIf="!description.valid && !description.pristine"
                         class="alert alert-danger">
                        Description is required
                    </div>
                </div>
                <div class="form-group">
                    <label for="effective_Date">Effective Date</label>
                    <input type="date" class="form-control" id="effective_Date"
                           [(ngModel)]="addEditSource.effective_Date" name="effective_Date"
                           #effective_Date="ngModel"
                           required>
                    <div *ngIf="!effective_Date.valid && !effective_Date.pristine"
                         class="alert alert-danger">
                        Effective Date is required
                    </div>
                </div>
                <div class="form-group">
                    
                </div>
                <div class="form-group">
                    <div class="checkbox">
                        <label for="active"><input type="checkbox" checked="checked" id="active"
                        [(ngModel)]="addEditSource.active" name="active"
                        #active="ngModel">Active</label>   
                    </div> 
                </div>

                <button type="submit" class="btn btn-default" [disabled]="!sourceform.form.valid"><span class="glyphicon glyphicon-plus"></span> Submit</button>
            </form>
        </div>
        <div class="col-lg-9">
            <table class="table table-responsive center-cells">
                <thead>
                    <tr>
                        <td>Name</td>
                        <td>Description</td>
                        <td>Created By</td>
                        <td>Creation Date</td>
                        <td>Last Modified By</td>
                        <td>Modified Date</td>
                    </tr>
                </thead>
                <tr *ngFor="let source  of sources | paginate: { itemsPerPage: 5, currentPage: p }; let i=index">
                    <td>{{source.name}}</td>
                    <td>{{source.description}}</td>
                    <td>{{source.created_By}}</td>
                    <td>{{source.creation_Date | date}}</td>
                    <td>{{source.modified_By}}</td>
                    <td>{{source.date_Modified | date}}</td>
                    <td><button class="btn btn-primary" (click)="editSource(source, i)"><span class="glyphicon glyphicon-edit"></span> Edit</button></td>
                    <td><button class="btn btn-primary" (click)="deleteSource(source, i)"><span class="glyphicon glyphicon-trash"></span> Delete</button></td>
                </tr>
                <tr>
                    <td class="align-center" colspan="7" *ngIf="sources && sources.length >= 5">
                        <pagination-controls (pageChange)="p = $event" #api>
                        </pagination-controls>
                    </td>
                </tr>
            </table>
        </div>
    </div>

</div>
