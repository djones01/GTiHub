<div class="container-fluid custom-container">
    <div [hidden]="addingTransform">
        <div class="panel panel-default input-container">
            <div class="panel-heading">
                Add / Edit Map
            </div>
            <div class="panel-body">
                <form *ngIf="active" (ngSubmit)="onSubmit()" #mapForm="ngForm">
                    <div class="form-group">
                        <label for="description">Description</label>
                        <input type="text" class="form-control" id="description"
                               [(ngModel)]="map.description" name="description"
                               #description="ngModel"
                               required>
                        <div *ngIf="!description.valid && !description.pristine"
                             class="alert alert-danger">
                            Description is required
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="effective_Date">Effective Date</label>
                        <input type="date" class="form-control" id="effective_Date"
                               [(ngModel)]="map.effective_Date" name="effective_Date"
                               #effective_Date="ngModel"
                               required>
                        <div *ngIf="!effective_Date.valid && !effective_Date.pristine"
                             class="alert alert-danger">
                            Effective Date is required
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="checkbox">
                            <label for="active">
                                <input type="checkbox" checked="checked" id="active"
                                       [(ngModel)]="map.active" name="active"
                                       #active="ngModel">Active
                            </label>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-default" [disabled]="!mapForm.form.valid || transformations.length == 0"><span class="glyphicon glyphicon-plus"></span> Submit</button>
                </form>
            </div>
        </div>
        <!-- Area to add Transforms -->
        <div class="panel panel-default">
            <div class="panel-heading">
                Add / Edit Attached Transformations
            </div>
            <div class="panel-body">
                <div class="margin-add-bottom">
                    <div *ngIf="transformations.length > 0">
                        <div *ngFor="let transformation of transformations" class="row">
                            <div class="col-md-6">
                                {{transformation.description}}
                            </div>
                            <div class="col-md-1"></div>
                            <div class="col-md-5"></div>
                        </div>
                    </div>
                    <div *ngIf="transformations.length == 0" class="pad-content">
                        No Transformations to Show
                    </div>
                </div>         
                <button class="btn btn-default" (click)="addNewTransform()"><span class="glyphicon glyphicon-plus"></span> Add New Transformation</button>
                <button class="btn btn-default" (click)="addExistingTransform()"><span class="glyphicon glyphicon-plus"></span> Add Existing Transformation</button>
            </div>
        </div>
    </div>
   <div [hidden]="!addingTransform">
       <transform-addedit></transform-addedit>
   </div>
</div>